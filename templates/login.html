<!DOCTYPE html>
<html>
  <body>
    <div id="fb-root"></div><script type="text/javascript">
      window.fbAsyncInit = function() {
        FB.init({appId: '664416747062739', status: true, cookie: true, xfbml: true});
      };
      (function() {
        var e = document.createElement('script');
        e.type = 'text/javascript';
        e.src =  'http://connect.facebook.net/en_US/all.js';
        e.async = true;
        document.getElementById('fb-root').appendChild(e);
      }());
      window.fbAsyncInit = function() {
      FB.init({appId: '664416747062739', status: true, cookie: true, xfbml: true});

      /* All the events registered */
      FB.Event.subscribe('auth.login', function(response) {
        // do something with response
        getUserDetails();
        login();
      });
      FB.Event.subscribe('auth.logout', function(response) {
        // do something with response
        logout();
      });

      FB.getLoginStatus(function(response) {
        if (response.session) {
          // logged in and connected user, someone you know
          var uid = response.authResponse.userID;
          console.log(uid);
          login();
        }
      });
    };

    </script>
    <fb:login-button 
      autologoutlink="true" 
      perms="email,user_birthday,status_update,publish_stream">
    </fb:login-button>
  </body>
</html>